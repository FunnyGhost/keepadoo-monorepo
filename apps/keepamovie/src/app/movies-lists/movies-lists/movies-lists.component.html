<h1 class='font-serif font-bold text-2xl text-purple-900 uppercase mb-8'>Your movie lists</h1>

<div class='grid grid-cols-3 gap-8'>
  <section class=''>
    <ng-container *ngIf='moviesLists$ | async; let moviesLists'>
      <ng-container *ngIf='isLoading$ | async; else moviesListsTemplate'>
        <div class='flex justify-center items-center'>
          <svg-icon data-test-name='loading' class='w-24 h-24' key='loading'></svg-icon>
        </div>
      </ng-container>
      <ng-template #moviesListsTemplate>
        <div class='flex flex-col'>
          <button
            data-test-name='createButton'
            (click)='createList()'
            class='text-xs font-sans text-gray-700 rounded bg-yellow-400 shadow-md mx-2 self-start px-4 py-2 hover:bg-yellow-600 hover:text-white transition duration-200'>
            New list
          </button>

          <keepadoo-movies-list
            *ngFor='let moviesList of moviesLists'
            [moviesList]='moviesList'
            (listClick)='selectList($event)'
          ></keepadoo-movies-list>
        </div>
        <section *ngIf='moviesLists.length === 0'>
        <span class='helper-text'
        >Please use the
          button bellow to create your first list. What fun!</span
        >
        </section>
      </ng-template>
    </ng-container>
  </section>

  <section class='col-span-2' data-test-name='listContent'>
    <router-outlet>
    </router-outlet>
  </section>

  <section
    class='absolute shadow rounded-md top-0 left-0 z-10 w-full h-full transition transform origin-bottom duration-500 bg-white'
    [ngClass]="{'translate-y-0 scale-y-100': createListMode, 'translate-y-full scale-y-0': !createListMode}">
    <keepadoo-movies-list-create (done)='doneCreatingList()'></keepadoo-movies-list-create>
  </section>
</div>

